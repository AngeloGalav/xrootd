#              $Id$

#------------------------------------------------------------------------------#
#                          I n i t i a l   R u l e s                           #
#------------------------------------------------------------------------------#
 
all:
	@/bin/mkdir -p $(BINDIR) $(LIBDIR) $(OBJDIR)
	@$(MAKE) $(TYPE)all XrdDEBUG=0 --no-print-directory

debug:
	@/bin/mkdir -p $(BINDIR)_dbg $(LIBDIR)_dbg $(OBJDIR)_dbg
	@$(MAKE) $(TYPE)dbg DBGSFX=_dbg XrdDEBUG=1 --no-print-directory

#WARNING: If icc is used instead of g++ then you must change all
#         occurences of $(LNX...) to $(ICC...) defined in GNUmake.env
Linuxall:
	@$(MAKE) anything --no-print-directory \
ARCH=$(ARCH) \
CC=g++    \
CF64="$(LNX64)" \
CF32="$(LNX32)" \
CFOP="$(LNXOPT)" \
LDOP="" \
LDSO="$(LNXLDSO)" \
LIBS="$(LNXLIBS)" \
TYPE=Linux

Linuxdbg:
	@$(MAKE) anything --no-print-directory \
ARCH=$(ARCH) \
CC=g++    \
CF64="$(LNX64)" \
CF32="$(LNX32)" \
CFOP="$(LNXDBG)" \
LDOP="" \
LDSO="$(LNXLDSO)" \
LIBS="$(LNXLIBS)" \
TYPE=Linux

SunOSall:
	@$(MAKE) anything \
ARCH=$(ARCH) \
CC=CC \
CF64="$(SUN64)" \
CF32="$(SUN32)" \
CFOP="$(SUNOPT)" \
LDOP="" \
LDSO="$(SUNLDSO)" \
LIBS="$(SUNLIBS)" \
TYPE=SunOS

SunOSdbg:
	@$(MAKE) anything \
ARCH=$(ARCH) \
CC=CC \
CF64="$(SUN64)" \
CF32="$(SUN32)" \
CFOP="$(SUNDBG)" \
LDOP="" \
LDSO="$(SUNLDSO)" \
LIBS="$(SUNLIBS)" \
TYPE=SunOS

clean:
	@$(MAKE) remove             --no-print-directory
	@$(MAKE) remove DBGSFX=_dbg --no-print-directory
	@echo Make clean done.

remove: FORCE
	@rm -f $(OBJECTS) $(TARGETS)

FORCE: ;
